## MultiProgramming, Process, Thread, Multithreading
Microsoft ကသူ. Company စေထာင္ေတာ့ DOS ဆုိတာေလးနဲ.စတာ။ ေၿပာရရင္ခု window ေတြမွာပါလာတဲ့ command prompt လုိေကာင္မ်ိဳးေပါ့။ သူ.အားနည္းခ်က္က ဘာလဲဆုိေတာ့ single programming ပဲရတာ ဆုိခ်င္တာက OS တခုလံုးမွာ CPU ေပၚမွာ process တခု program တခုကိုပဲ run လို.ရတာ။ Process ဆုိတာ run ေနတဲ့ program ကိုေခၚတာ။ သူ.မွာဘာေတြပါသလဲဆုိရင္ process အတြက္ address space တုိ. virutal memory တုိ.တၿခား process managment လုပ္ဖုိ.လိုတ့ဲ data structure ေတြေရာေပါ့။ Window မွာ task manager ကေနၾကည့္ရင္ process ဆုိတဲ့ tab ေအာက္မွာ ခု run ေနတဲ့ process ေတြကိုၿပတယ္။

ခုနက Single programming ေခတ္တုန္းက memory ကလဲနည္းတယ္ အဲ့ေတာ့ process တခုပဲ run လုိ.ရမယ္။ ေနာက္ hardware ေတြ ၿမင့္လာတယ္ memory ေတြ လဲပို မ်ားလာတယ္။ အဲ့ေတာ့ OS ေတြက muti programming ကုိ support လုပ္လာရတယ္။ Multi programming ဆုိတာ OS မွာ process တခုထက္မက တၿပိဳင္တည္း (ဒီစကားကလဲ နည္းနည္းရွုပ္တယ္ ) run လို.ရေအာင္လုပ္ေပးထားတာ။ ဥပမာ ခုဒီစာကိုရုိက္ဖုိ. ေဖ့ဘုတ္ကို browser နဲ.သံုးလို.ရေအာင္ browser process တခုကိုသံုးမယ္။ ေနာက္ သီခ်င္းဖြင့္ထားမယ္ဆုိပါစုိ. ဒါသည္ ေနာက္ process တခု။ အဲ့လိုရတာကို muti programming system လို.ေခၚတာ။

ဘာလုိ. Multi Programming ကုိလုပ္ရလဲဆုိေတာ့ ဥပမာ ခုနက process ေတြမွာ CPU task ေတြပဲ၇ိွတာမဟုတ္ဘူး။ IO/Device task ေတြ ၇ိွတယ္။ အဲ့ေတာ့ IO ကုိဖတ္ေနခ်ိန္မွာ အဲ့ process သည္ CPU ကုိ သံုးစရာမလိုဘူး Idle ၿဖစ္တယ္။ အဲ့ေတာ့ တၿခား process ကုိေပးသံုးလုိ.ရတယ္။ ေၿပာခ်င္တာက computer တခုရဲ. resources ေတြကို ေသခ်ာသံုးၿဖစ္သြားတယ္ေပါ့။ User အတြက္လဲ အဆင္ေၿပတာေပါ့။

အဲ့ေတာ့ Process ဆုိတာေတာ့သိၿပီေပါ့။ ဒါဆို thread က်ေတာ့ေရာ။ Process switching သည္ OS မွာ costly ၿဖစ္တယ္။ ဆုိခ်င္တာက process တခုကေန တခုကို ေၿပာင္းဖုိ.ဆုိရင္ လုပ္ရတဲ့ process မ်ားတယ္။ တခ်ိဳ. program ေတြမွာ process တခုတည္းမွာကိုတင္ တၿပိုင္တည္းလိုလုိ လုပ္ရတဲ့ task ေတြပါတယ္။ ဥပမာ word မွာ စာရိုက္ေနတာကို လက္ခံဖုို. processing task တခုလုိမယ္။ တခ်ိန္တည္းမွာ အ့ဲရုိက္ထားတဲ့စာကို စာလံုးေပါင္းစစ္ဖုိ.က တၿခား program task တခုလဲလိုတယ္။ အဲ့ေတာ့ ဘာလုပ္လုိက္လဲဆုိရင္ thread ဆုိတာေလး ခြဲလိုက္တယ္။ Thread ဆုိတာ ေၿပာရရင္ process တခုတည္းေအာက္ကေန multiple execution unit ေလးေတြ ခြဲထားတာပါပဲ။ အဲ့ေတာ့ စာရိုက္ေနတုန္းမွာ spelling checking လုပ္ေပးႏုိင္တယ္။ ဘာလုိ.လဲဆုိေတာ့ တၿပိဳင္တည္းနီးပါး run ေနလုိ.။ဒါကို multi threading လို.ေခၚတယ္။

ခုနက တၿပိဳင္တည္းနီးပါးလုိ.ေၿပာတယ္ အဲ့တာကို Concurren လို.သံုးတယ္။ execution unit ၂ ခု thread ၂ ခုသည္ တခ်ိန္တည္းမွာ လုပ္ေနတာ မဟုတ္ဘူး ။ ဥပမာ CPU က တခုတည္းရိွတယ္ဆုိပါစုိ. core လဲ မရိွဘူးဆုိပါစုိ. ခုနက thread ၂ ခုကုိ တခ်ိန္တည္း လုပ္လုိ.မရဘူး။ တခုၿပီး ေနာက္တခုကို အလွည့္ေပးရတယ္။ ဒါမ်ိဳးကို time slicing လို.ေခၚတယ္။ အခ်ိန္ အပိုင္းအပိုင္းေလးေတြ ေပးၿပီး ေရာ့ thread 1 run, thread 1 က အေၾကာင္း အမ်ိဳးမ်ိဳးေၾကာင့္ ဥပမာ အခ်ိန္ၿပည့္သြားတာၿဖစ္ၿဖစ္ IO ၿပီးလဲ interrupt ၀င္လာတာၿဖစ္ၿဖစ္ block ၿဖစ္သြားရင္ thread 2 run ေပါ့။

Concurrent နဲ. ေနာက္ခပ္ဆင္ဆင္ တခုက paraell ဆုိတာ။ သူက်ေတာ့ exactly တၾကိမ္တည္းမွာ အၿပိဳင္လုပ္ေနတာ။ အဲ့လုိလုပ္ႏဳိင္ဖုိ. SIngle CPU နဲ.မၿဖစ္ႏုိင္ေတာ့ဘူး။ Single CPU ဆုိရင္ေတာင္ Multiple Core ၿဖစ္ရမယ္ ဘာလုိ.လဲဆုိေတာ့ အလုပ္ေတြကို parallel လုပ္ခ်င္ရင္ parallel လုပ္ႏုိင္တဲ့ CPU ေတြ core ေတြ ရိွမွ ရမွာကိုး။

ခုနက Concurrent , Parallel နဲ. ေနာက္ထပ္ ဆပ္ႏြယ္ေနတာက Asynchronous , Synchronous programming ဆုိတာ။ Synchronous ဆုိတာ ရွင္းတယ္ statement 1, 2, 3 run ရင္ အေၿဖ 1, 2,3, order အတုိင္းရမယ္။ Order အရၿဖစ္လုိ. synchronous လို.ေၿပာတယ္။ Asynchronous ဆုိတာ Order တူခ်င္မွတူမယ္။ 1,2,3 run ေပမဲ့လိ. 2 က အရင္ၿပီးသြားတာလဲၿဖစ္ႏဳိင္တယ္။ ဥပမာ Ajax call ေတြလိုေပါ့။ ေနာက္ပိုင္း modern programming language ေတြ ဥပမာ C# လုိေကာင္မ်ိဳးမွာ asynchrnous programming မ်ိဳးရတယ္။ ေနာက္ JS မွာလဲ async/wait ဆုိတာေတြ ေပးလာတယ္။

Asynchronous မွာ Order သည္ ဘယ္ေကာင္အရင္ၿပီးမယ္ မွန္းမသိႏုိင္ဘူး ဥပမာ Ajax call 1, 2, 3 လြွတ္လိုက္ရင္ ဘယ္သူအရင္ၿပီးမယ္ဆုိတာ မေသခ်ာဘူး အဲ့ေတာ့ ၃ ခုလံုးၿပီးမွ လုပ္ရမယ္ဆုိရင္ သူ.အတြက္ programming abstraction ေတြသံုးရတယ္။ ပထမဆံုး စေပၚတာက callback, ေနာက္ promise, အဲ့ကေန ခု Reactive programming ဆုိတာ ၿဖစ္လာတယ္။ ဒါေတြက ေနာက္သက္သက္ေရးမွရမယ္။

ခုနက Thread ေတြသည္ code ေတြကို တၿပိုင္တည္းနီးပါးၿဖစ္ေစ လုပ္ႏုိင္ run ႏုိင္တယ္။ အဲ့မွာဘာၿပႆနာတက္လာလဲဆုိရင္ shared လုပ္ၿပီးသံုးတဲ့ variable ေတြရိွတယ္ဆိုပါစုိ.။ ဥပမာ counter ဆုိတဲ့ variable ကို thread 1 ကလဲ write မယ္ thread 2 ကလဲ write မယ္ဆုိပါစုိ. thread 1 က write လုပ္ေနခ်ိန္မွာ thread 2 ကမသိပဲ write လုိက္မယ္။

ဥပမာ thread 1 က counter = 10 လုပ္လုိက္တယ္။ အဲ့အခ်ိန္ thread 2 က 11 ဆုိၿပီး write လုိက္တယ္။ ခုနက thread 1 က counter ကုိၿပန္ဖတ္တယ္။ အဲ့တာဆုိ ဘာမွ ကာမထားတဲ့အတြက္ data synchronization problem ၿဖစ္သြားတယ္။ ဒါမ်ိဳးကို Councurrency problem လုိ.ေခၚတယ္။ အဲ့လို variable တခု တည္းကို thread ေတြ အမ်ားၾကီးကေန ခြဲသံုးႏုိင္တဲ့ code မ်ိုးကို critical section လို.ေခၚတယ္။ အဲ့လိုမၿဖစ္ေအာင္ variable ကုိ thread တခုက သံုးေနရင္ ေနာက္ thread က မသံုးရေအာင္ ကာထားရတယ္။ အိမ္သာ တက္သလိုေပါ့။ တေယာက္ေယာက္က တလံုးတည္းရိွတဲ့အိမ္သာကို တက္ေနရင္ ဂ်က္ခ်ထားရတယ္။ ဒါမွ တၿခားသူ သံုးလို.မရမွာ။ သူၿပီးရင္ သြား ဂ်င္ဖြင့္ တၿခားသူသံုးလုိ.ရတယ္။ အဲ့ေတာ့ ဘာၿဖစ္သလဲဆုိေတာ့ ဂ်က္ခ်ထားရင္ ေစာင့္ေနရတယ္။ဒါမ်ိဳးကို lock waiting လို.ေခၚတယ္။

ခုနက Concurrency problem synchronization ကိုရွင္းဖုိ. language ေတြက ဘာေတြေပးထားလဲဆုိေတာ့ Monitor တို. semaphore တုိ.လုိ. synchronization mechanism ေတြ ေပးထားရတယ္။

ခုနက lock ေတြ ခ်ထားေတာ့ ဥပမာ process 1 က task တခုလုပ္ဖုိ. resources ၂ ခုလိုတယ္။ process 2 ကလဲ ခုနကလုိပဲ task တခုလုပ္ဖုိ. resources 2 ခုလိုတယ္စိုပါစုိ။ ဥပမာ process 1 က စာေရးခ်င္တာ။ process 2 က်ေတာ့ပံုဆဲြခ်င္တာ။ resources ၂ခုသည္ စာရြက္နဲ. ခဲတံဆုိပါစုိ. Process 1 က စာရြက္ကို ရထားတယ္ lock ခ်ထားတယ္ေပါ့။ အဲ့ေတာ့ Process 2 ကသံုးမရဘူး။ Process 2 က်ေတာ့ ခဲတံကို lock ရထားတယ္။ အလုပ္က်လုပ္လုိ.မရဘူး ဘာလုိ.ဆုိေတာ့ လိုတဲ့ စာရြက္ကို process 1 က ကိုင္ထားလို. ဒါမ်ိဳးအေၿခအေနကို deadlock လို.ေခၚတယ္။

ေတာ္ေသးဘီ။
